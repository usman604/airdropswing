"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a){Date.now();function t(t,e,n){var o,a="";n&&((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toUTCString()),document.cookie=t+"="+(e||"")+a+"; path=/"}function e(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null}function n(){e("swipepages_user")?u=e("swipepages_user"):(u=Math.random().toString(36).substring(2)+Date.now().toString(36),t("swipepages_user",u)),f&&g&&!e(f)&&t(f,g)}function i(){Math.abs(y-w)<3e4&&document.hasFocus()&&0,w=Date.now()}function r(){window.pageYOffset>h&&(window.pageYOffset>=m&&0,L(window.pageYOffset),h=window.pageYOffset,0),y=Date.now()}function s(){var t;F&&(t=a(this).data("tracking-href")||a(this).attr("href"),-1<tatsuFrontendConfig.goals.links.indexOf(t))&&(t={pageId:f,variantId:g,anchorConversionLink:C=1,id:p,userAgent:v},navigator.sendBeacon(tatsuFrontendConfig.apiBaseUrl+"/analytics",JSON.stringify(t)))}function c(){O=1}function o(){var o;window.addEventListener("scroll",r),window.addEventListener("mousemove",r),window.addEventListener("keypress",r),window.setInterval(i,1e3),window.addEventListener("paymentSuccess",c),tatsuFrontendConfig.goals.formSubmission&&(a(".tatsu-form").on("submit",E),o=0,a(document).ready(function(){var n=setInterval(function(){var t,e;o<10?(e=a(".hs-button"),t=a("iframe").contents().find(".hs-button"),0!=(e=a.merge(e,t)).length&&(clearInterval(n),e.on("click",function(){E()}))):clearInterval(n),o+=1},1e3)})),tatsuFrontendConfig.goals.linkClicks&&a("a").on("click",s)}var u,d,f,g,l,p,m=window.innerHeight,w=Date.now(),y=Date.now(),h=0,v=navigator.userAgent,S=document.body,b=document.documentElement,I=Math.max(S.scrollHeight,S.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight),C=(screen.width,screen.height,0),k=0,F=!1,O=0,E=(tatsuFrontendConfig.goals=tatsuFrontendConfig.goals||{},function(){var t;k=1,F&&(t={pageId:f,variantId:g,wasFormSubmitted:k,id:p,userAgent:v},a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(t),contentType:"text/plain"}))}),L=function(t){d=m/I,d*=100};a(function(){var t,e;Date.now(),f=document.getElementById("swipe-pages-page").value,g=document.getElementById("swipe-pages-variant").value,"function"==typeof window.spAnalyticsSetSource&&"object"==_typeof(t=window.spAnalyticsSetSource())&&(f=t.pageId||f,g=t.variantId||g,k=t.wasFormSubmitted||k,C=t.anchorConversionLink||C,O=t.payment||O),document.getElementById("swipe-pages-account")&&(l=document.getElementById("swipe-pages-account").value),!f||!g||(t=new URL(window.location.href),e=new URLSearchParams(t.search).get("sp_payment_redirect"),t.searchParams.has("couponCode")&&t.searchParams.has("popupId"))||e||(n(),e={variantId:g,pageId:f,Create:!0,userAgent:navigator.userAgent,cookie:u},l&&(e.accountId=l),k&&(e.wasFormSubmitted=k),C&&(e.anchorConversionLink=C),O&&(e.payment=O),a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(e),contentType:"text/plain"}).done(function(t){F=!0,p=t}).fail(function(t,e,n){console.log(n)}),o())})}(jQuery);